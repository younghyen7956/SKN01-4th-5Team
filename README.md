<div align="center">
  <img src="https://capsule-render.vercel.app/api?type=waving&color=0:FF0000,100:FFA500&height=240&text=SKN01-4th-5Team&animation=&fontColor=ffffff&fontSize=90" width="1000" />
  
  [![Hits](https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https://github.com/SKNETWORKS-FAMILY-AICAMP/SKN01-4th-1Team&count_bg=%2379C83D&title_bg=%23555555&icon=&icon_color=%23E7E7E7&title=hits&edge_flat=false)](https://hits.seeyoufarm.com)
</div>



# 1. Introduction Team (íŒ€ ì†Œê°œ)
### âœ… íŒ€ëª… : TCP(Text Chat Programmers)
<table align=center>
  <tbody>
    <tr>
      <td align=center><b>ê¹€ìš©í˜„</b></td>
      <td align=center><b>í•œë³‘ì°¬</b></td>
      <td align=center><b>ê¹€ì§€ë¯¼</b></td>
      <td align=center><b>ì´ìš©ìš°</b></td>
      <td align=center><b>ì •ì›í˜•</b></td>
    </tr>
    <tr>
      <td align="center">
        <div>
          <img src="https://github.com/user-attachments/assets/80f0a998-61ab-4de5-a652-51575e8a4468"width="200px; alt=""/>
        </div>
      </td>
      <td align="center">
        <div>
          <img src="https://github.com/user-attachments/assets/30f29d8b-bcec-46c7-bce6-e6e4ec414e55"width="200px;" alt=""/>
        </div>
      </td>
      <td align="center">
        <img src="https://github.com/user-attachments/assets/c01c579b-7f4f-436b-984a-74a26d2cef44"width="200px;" alt=""/>
      </td>
      <td align="center">
        <img src="https://github.com/user-attachments/assets/77eff59b-1c54-4d91-a49c-5f81cf28fb35"width="200px;" alt=""/>
      </td>
      <td align="center">
        <img src="https://github.com/user-attachments/assets/49822355-b1ef-485b-a45b-dc2199d8397b"width="200px;" alt=""/>
      </td>
    </tr>
    <tr>
      <td><a href="https://github.com/younghyen7956"><div align=center>@Jh-jaehyuk</div></a></td>
      <td><a href="https://github.com/MinMessi"><div align=center>@MinMessi</div></a></td>
      <td><a href="https://github.com/Ah-ram"><div align=center>@Ah-ram</div></a></td>
      <td><a href="https://github.com/ih9511"><div align=center>@ih9511</div></a></td>
      <td><a href="https://github.com/y0ng98"><div align=center>@y0ng98</div></a></td>
    </tr>
  </tbody>
</table>
<br><br><br>


# 2. Introduction Project (í”„ë¡œì íŠ¸ ê°œìš”)

### âœ…í”„ë¡œì íŠ¸ ëª…
ë…¼ë¬¸ ìš”ì•½ ë° ì„¤ëª… ì œê³µ ì„œë¹„ìŠ¤

### âœ…í”„ë¡œì íŠ¸ ì†Œê°œ
ë…¼ë¬¸ ìš”ì•½ ë° ì„¤ëª… ì œê³µ ì„œë¹„ìŠ¤

### âœ…í”„ë¡œì íŠ¸ í•„ìš”ì„±(ë°°ê²½)
- ìƒˆë¡œìš´ ê¸°ìˆ ì— ëŒ€í•œ ì—°êµ¬ê°€ ê³¼ê±° ëŒ€ë¹„ ë§¤ìš° ë¹ ë¥¸ ì†ë„ë¡œ ë°œí‘œë˜ê³  ìˆìŠµë‹ˆë‹¤.
- ì´ì— ìƒˆë¡œìš´ ê¸°ìˆ ì„ ë…¼ë¬¸ì„ í†µí•´ ì ‘í•˜ê³ ì í•˜ëŠ” ë‹ˆì¦ˆê°€ ë°œìƒí•˜ê³  ìˆìŒì„ ë°œê²¬í•˜ì˜€ê³ , ì´ëŸ¬í•œ ë‹ˆì¦ˆë¥¼ ì¶©ì¡±ì‹œí‚¤ê¸° ìœ„í•´ ë…¼ë¬¸ì„ ì½ì„ ìˆ˜ ìˆëŠ” ë°©ì‹ì„ LLMì„ í†µí•´ ì œê³µí•˜ì—¬ ë§ì€ ì‚¬ëŒë“¤ì´ ì´ìš©í•  ìˆ˜ ìˆë„ë¡ ì„œë¹„ìŠ¤í™”í•˜ê³ ì í•©ë‹ˆë‹¤.

## ë¹„ë™ê¸° í†µì‹  ë°©ì‹ì˜ Deep Learning Local Server
### Syncronous Communication
- ë™ê¸°(Syncronous)ë€ ë™ì‹œì— ì¼ì–´ë‚œë‹¤ëŠ” ëœ»ì…ë‹ˆë‹¤. ì¦‰, Requestì™€ Responseê°€ ë™ì‹œì— ì¼ì–´ë‚˜ëŠ” í†µì‹  ë°©ì‹ì…ë‹ˆë‹¤.
- ë…¸ë“œ Aì™€ ë…¸ë“œ B ì‚¬ì´ì˜ ì‘ì—… ì²˜ë¦¬ ë‹¨ìœ„ë¥¼ ë™ì‹œì— ë§ì¶¥ë‹ˆë‹¤.
- ìš”ì²­í•œ ê²°ê³¼ê°€ ê·¸ ìë¦¬ì—ì„œ ë™ì‹œì— ì£¼ì–´ì§‘ë‹ˆë‹¤.
### Asyncronous Communication
- ë¹„ë™ê¸°(Asyncronous)ë€ ë™ì‹œì— ì¼ì–´ë‚˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ëœ»ì…ë‹ˆë‹¤. ì¦‰, Requestì™€ Responseê°€ ë™ì‹œì— ì¼ì–´ë‚˜ì§€ ì•ŠëŠ” í†µì‹  ë°©ì‹ì…ë‹ˆë‹¤.
- ë…¸ë“œ ì‚¬ì´ì˜ ì‘ì—… ì²˜ë¦¬ ë‹¨ìœ„ë¥¼ ë™ì‹œì— ë§ì¶”ì§€ ì•Šê² ë‹¤ëŠ” ê²ƒìœ¼ë¡œ, ìš”ì²­í•œ ê²°ê³¼ê°€ ê·¸ ìë¦¬ì—ì„œ ì£¼ì–´ì§€ì§€ ì•ŠìŠµë‹ˆë‹¤.
### ê° í†µì‹  ë°©ì‹ì˜ ì¥ë‹¨ì 
- ë™ê¸° í†µì‹ ì˜ ê²½ìš° ì„¤ê³„ê°€ ê°„ë‹¨í•˜ë©°, ì§ê´€ì ì´ì§€ë§Œ ê·¸ ì‘ì—…ì´ ëë‚  ë•Œê¹Œì§€ ì•„ë¬´ëŸ° ì‘ì—…ë„ í•  ìˆ˜ ì—†ë‹¤ëŠ” ë‹¨ì ì´ ìˆìŠµë‹ˆë‹¤.
- ë¹„ë™ê¸° í†µì‹ ì˜ ê²½ìš° ë™ê¸° í†µì‹ ë³´ë‹¤ ë¹„êµì  ë³µì¡í•œ êµ¬í˜„ì´ í•„ìš”í•˜ì§€ë§Œ, ì‘ì—…ì´ ëë‚  ë•Œ ê¹Œì§€ ê¸°ë‹¤ë¦¬ì§€ ì•Šì•„ë„ ë˜ê¸° ë•Œë¬¸ì— ê·¸ ë™ì•ˆ ë‹¤ë¥¸ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ íš¨ìœ¨ì ì¸ ìì›ì˜ ì‚¬ìš©ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.
### ë¹„ë™ê¸° í†µì‹  ë°©ì‹ DLLS
- ëª¨ë¸ì´ Requestì— ë”°ë¼ Responseë¥¼ í•˜ê¸°ê¹Œì§€ ì…ë ¥ì— ëŒ€í•œ ê²°ê³¼ë¥¼ ì¶”ë¡ í•˜ëŠ”ë°ì— ì‹œê°„ì´ í•„ìš”í•©ë‹ˆë‹¤. ë§Œì•½ Responseë¥¼ ë°˜í™˜í•˜ëŠ” ê³¼ì •ì„ ë™ê¸° í†µì‹  ë°©ì‹ìœ¼ë¡œ êµ¬í˜„í•œë‹¤ë©´, ê²°ê³¼ ë°˜í™˜ì´ ì™„ë£Œë  ë•Œ ê¹Œì§€ ì‚¬ìš©ìëŠ” ì•„ë¬´ê²ƒë„ í•˜ì§€ ëª»í•©ë‹ˆë‹¤.
- ë”°ë¼ì„œ, ëª¨ë¸ì´ ì¶”ë¡ í•˜ì—¬ Responseë¥¼ ë°˜í™˜í•˜ëŠ” ê³¼ì •ì„ ë¹„ë™ê¸° ë°©ì‹ìœ¼ë¡œ ì„¤ê³„í•˜ì—¬ ì‚¬ìš©ìê°€ ì¶”ë¡  ìš”ì²­ ì´ì™¸ì˜ ì‘ì—…ì„ ìˆ˜í–‰í•  ë•Œì—ë„ ë¬¸ì œê°€ ì—†ë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤.
### ë¬¼ë¦¬ì  ë¡œì»¬ ì„œë²„ êµ¬í˜„ ì´ìœ 
- AWS ìƒì—ì„œ LLM ëª¨ë¸ì˜ Fine Tuning ë° ì¶”ë¡  ê³¼ì •ì„ êµ¬ë™ì‹œí‚¬ ê²½ìš°, ì˜ˆì‚°ì„ ë„˜ì–´ì„œëŠ” ë¹„ìš©ì´ ë°œìƒí•  ê°€ëŠ¥ì„±ì´ ì¡´ì¬í•©ë‹ˆë‹¤.
- ì´ì— ì»´í“¨íŒ… ìì›ì´ ë§ì´ í•„ìš”í•œ ë¶€ë¶„ì„ ë”°ë¡œ ë¬¼ë¦¬ì  ë¡œì»¬ ì„œë²„ì—ì„œ êµ¬ë™í•˜ì—¬ Responseë¥¼ ë°˜í™˜í•˜ë„ë¡ ì„¤ê³„í•˜ì˜€ìŠµë‹ˆë‹¤.
- ê²°ê³¼ì ìœ¼ë¡œ, ëª¨ë¸ ì„œë¹™ ì—­í• ì˜ FastAPIì™€ DLLS ìƒì˜ AI Client ì‚¬ì´ì˜ ë¹„ë™ê¸° í†µì‹ ì„ í†µí•´ ë¹„ìš©ì ì¸ ì¸¡ë©´ì—ì„œì˜ ìµœì í™”ë¥¼ ë‹¬ì„±í•˜ê³  ì‚¬ìš©ìê°€ ì„œë¹„ìŠ¤ë¥¼ ì‚¬ìš©í•¨ì— ìˆì–´ì„œ ë¶ˆí¸í•¨ì´ ì—†ë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤.
### TLS/SSL ë³´ì•ˆ í†µì‹  í™˜ê²½ êµ¬ì¶•
- ì»¤ìŠ¤í…€ ì„œë²„ íŠ¹ì„± ìƒ, ë¹„êµì  í•´í‚¹ì— ì·¨ì•½í•  ê°€ëŠ¥ì„±ì´ ì¡´ì¬í•©ë‹ˆë‹¤. ì´ì— ë³´ì•ˆ í”„ë¡œí† ì½œì„ ì ìš©í•˜ì—¬ ì™¸ë¶€ì—ì„œ ìš°ë¦¬ì˜ ì„œë¹„ìŠ¤ì— ì ‘ê·¼í•  ìˆ˜ ì—†ë„ë¡ ë³´ì•ˆ í†µì‹  í™˜ê²½ì„ êµ¬ì¶•í•˜ì˜€ìŠµë‹ˆë‹¤.


### âœ…í”„ë¡œì íŠ¸ ëª©í‘œ
1. Front-Endì—ì„œëŠ” **TypeScript**ì™€ **Vue.js + Vuetify3**ë¥¼ ì´ìš©í•˜ì—¬ ì‚¬ìš©ì ì¸¡ë©´ì—ì„œ ìœ ë¦¬í•œ UI-UXë¥¼ êµ¬ì¶•í•˜ì˜€ê³ , **Axios** ë¥¼ í†µí•´ì„œ ì˜¬ë°”ë¥¸ Requestë¥¼ í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ ì‚¼ì•˜ìŠµë‹ˆë‹¤. 
2. Back-Endì—ì„œëŠ” **Python**ê³¼ **Django**, **MySQL** ë“±ì„ ì´ìš©í•˜ì—¬ Requestì— ëŒ€í•œ ì •í™•í•œ Responseì™€ ì›í™œí•œ ì›¹ì‚¬ì´íŠ¸ ìš´ì˜í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ ì‚¼ì•˜ìŠµë‹ˆë‹¤.
3. Fast APIì—ì„œëŠ” **Machine Learning** **Deep Learning** ì´ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ë¶„ì„ ë° ì˜ˆì¸¡í•  ìˆ˜ ìˆë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤.
4. Deep Learning Local Server (DLLS) ì—ì„œëŠ” **Fast APIì™€ AI Clientì˜ ë¹„ë™ê¸° í†µì‹  í™˜ê²½**ì„ ì†Œì¼“ í†µì‹ ìœ¼ë¡œ êµ¬ì¶•í•˜ì—¬ ì¼ë°˜ì ì¸ ë™ê¸° Requestë“¤ì´ ì²˜ë¦¬ë  ë•Œ, ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ë„ë¡ êµ¬ì¶•í•˜ì˜€ìŠµë‹ˆë‹¤.
5. CI-CDëŠ” ì§€ì†ì ì¸ ì½”ë“œ í†µí•©ê³¼ ì§€ì†ì ì¸ ë°°í¬ë¥¼ í†µí•´ ê¶ê·¹ì ìœ¼ë¡œ ê°œë°œ ì†ë„ë¥¼ ë†’ì´ê³ , ì½”ë“œ í’ˆì§ˆì„ ìœ ì§€í•˜ë©°, ê°œë°œê³¼ ìš´ì˜ì˜ ê²½ê³„ë¥¼ í—ˆë¬¼ë©° ì‹ ì†í•˜ê²Œ ê°€ì¹˜ë¥¼ ì œê³µí•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ ì‚¼ì•˜ìŠµë‹ˆë‹¤. 
<br><br><br>

## ì• ìì¼ ë³´ë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ 
```c
ê³¼ê±° ì •ì˜ì„œë“¤ì„ ì¼ì¼íˆ ì‘ì„±í•˜ì˜€ì§€ë§Œ ë¹ ë¥¸ ì†ë„ë¡œ ë¬´ì–¸ê°€ë¥¼ ê°œë°œí•˜ëŠ”ë° í•œê³„ê°€ ìˆìŠµë‹ˆë‹¤.
ì²˜ìŒë¶€í„° ë§ì€ ê²ƒë“¤ì„ ë¹Œë“œì—…í•˜ë©´ì„œ ë¹ ë¥¸ ìƒì‚°ì„±ì„ ê¸°ë°˜ìœ¼ë¡œ ì›€ì§ì´ë ¤ë©´ ë°˜ë“œì‹œ ì• ìì¼í•´ì•¼í•©ë‹ˆë‹¤.
ê³ ë¡œ í­í¬ìˆ˜ ì„¤ê³„ ë°©ì‹ì´ ì•„ë‹Œ ì• ìì¼ í”„ë¡œì„¸ìŠ¤ ë°©ì‹ìœ¼ë¡œ ì• ìì¼ ë³´ë“œë¥¼ ì‘ì„±í•˜ë©´ì„œ ì§„í–‰í–ˆìŠµë‹ˆë‹¤.

ì• ìì¼ ë³´ë“œëŠ” ìì²´ì ìœ¼ë¡œ ì œëª©ì´ ìš”êµ¬ ì‚¬í•­ì„ ë‚´í¬í•˜ë©° ê° ì¹´ë“œ ë‚´ë¶€ì—ëŠ” ì •ì˜í•œ Domainì˜ ì„¸ë¶€ ì‚¬í•­ì´ ê¸°ë¡ë©ë‹ˆë‹¤.
ê³ ë¡œ ë¹ ë¥´ê²Œ íŒ€ì›ë“¤ê³¼ í˜‘ì—… í•  ìˆ˜ ìˆê³  ì†Œí†µ ë¹„ìš©ì„ ìµœì†Œí™”ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ì‘ì€ ê²ƒ ê°™ì§€ë§Œ ì´ì™€ ê°™ì€ ê²ƒë“¤ì´ ìŒ“ì—¬ì„œ ì•„ì£¼ ê¸°ë¯¼í•˜ê³  ë¯¼ì²©í•œ ì¡°ì§ì„ ë§Œë“¤ì–´ ëƒ…ë‹ˆë‹¤.
```
# 3. ì‹œìŠ¤í…œ êµ¬ì„±ë„
![image](https://github.com/user-attachments/assets/66a78240-b41d-487a-8800-29bccbab7d41)
<br><br><br>

# 4. Backend ì• ìì¼ ë³´ë“œ - ìš”êµ¬ ì‚¬í•­ ì •ì˜ì„œ
![image](https://github.com/user-attachments/assets/89ece460-81bd-44cf-bc7d-644487b3b267)
<br><br><br>


# 5. Frontend ì• ìì¼ ë³´ë“œ - í™”ë©´ ì„¤ê³„ì„œ
![image](https://github.com/user-attachments/assets/b547b885-25f8-413f-ab40-3251e8b77e95)
![image](https://github.com/user-attachments/assets/b947d9db-b2d1-4494-8842-82285289d6ff)

<br><br><br>


# 6. FastAPI ì• ìì¼ ë³´ë“œ - AI ì„œë¹™ ì„¤ê³„ì„œ
![image](https://github.com/user-attachments/assets/ccd6592b-4e7c-4fab-a7fe-6f16e8515195)
<br><br><br>

# 7. AI Client ì• ìì¼ ë³´ë“œ - ëª¨ë¸ íŒŒì¸íŠœë‹ ë° ì¶”ë¡  ì„¤ê³„ì„œ
![image](https://github.com/user-attachments/assets/ee098b0b-77b0-4e53-9a47-836e61081638)
<br><br><br>




# 8. Manual Deploy (ìˆ˜ë™ ë°°í¬ ì§„í–‰ ì ˆì°¨)

## Frontend (UI)
### â¡ï¸ Build
frontend ë¡œì»¬ ì €ì¥ì†Œì—ì„œ .envì— í•„ìš”í•œ IP ì˜µì…˜ë“¤ì„ ì„¤ì •í•´ì¤ë‹ˆë‹¤.

ì´í›„ ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ì—¬ build í•©ë‹ˆë‹¤.
```bash
npm run build
``` 
![image](https://github.com/user-attachments/assets/8fd293b2-5166-4684-9561-ca88bbffb7b0)

### â¡ï¸ dist
buildë¥¼ í•˜ê³  ë‚˜ë©´ distê°€ ìƒì„±ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
![image](https://github.com/user-attachments/assets/cc497e6c-02fa-429e-8595-c6ce082f65f9)

### â¡ï¸ scp ëª…ë ¹ì–´
```bash
scp -i "pemí‚¤(ìƒëŒ€ê²½ë¡œ í˜¹ì€ ì ˆëŒ€ê²½ë¡œ)" -r * ec2-user@AWS_IP:/home/ec2-user/í”„ë¡œì íŠ¸íŒ€/vue-frontend/html/
```
![image](https://github.com/user-attachments/assets/2cd28b2e-2fef-4390-ae4a-643f882969fc)

### â¡ï¸ docker-compose up
AWSì—ì„œ ì´ì „ì— ì‘ì„±í–ˆë˜ docker-compose.ymlì„ í™œìš©í•´ì„œ ì•„ë˜ì™€ ê°™ì´ ì‹¤í–‰í•©ë‹ˆë‹¤.
```bash
docker-compose up -d
```
![image](https://github.com/user-attachments/assets/8b7d9020-68a1-4df0-8218-71573666a2af)



## Backend (Server)
### Local
1. ë¨¼ì € í”„ë¡œì íŠ¸ ì €ì¥ì†Œë¡œ ì´ë™í•©ë‹ˆë‹¤.  
![image](https://github.com/user-attachments/assets/de94c3cf-82ff-4cac-8816-401efa605028)
  
2. ì•„ë˜ íŒŒì¼ë“¤ì— ëŒ€í•´ì„œ ê¶Œí•œ ì„¤ì •ì„ í•´ì¤ë‹ˆë‹¤.
  
```bash
chmod +x wait-for-it.sh
chmod +x manage.py
```

3. GHCRì— ë¡œê·¸ì¸í•©ë‹ˆë‹¤.
  
```bash
echo "GHCR Token" | docker login ghcr.io -u (username) --password-stdin
```
  
4. wait-for-it.shë¥¼ LFë¡œ ë°”ê¿”ë†“ì•„ì•¼ í•©ë‹ˆë‹¤. 
![image](https://github.com/user-attachments/assets/d08ef835-df6f-4e26-9a40-441904b6205b)
  
5. ì•„ë˜ ëª…ë ì–´ë¥¼ ì´ìš©í•˜ì—¬ Docker ë¹Œë“œë¥¼ ì§„í–‰í•©ë‹ˆë‹¤.
  
```bash
docker buildx create --use
docker buildx build --platform linux/arm64 -f Dockerfile -t ghcr.io/(username)/(teamname)-django-test-server:latest --push .
```
  
### AWS
1. pem keyë¥¼ ì‚¬ìš©í•´ AWSì— ì ‘ì†í•˜ê³  docker-compose.ymlë¥¼ ì•„ë˜ì™€ ê°™ì´ êµ¬ì„±í•©ë‹ˆë‹¤.
  
```yaml
version: '3'
services:
  django:
    container_name: django
      # image: ghcr.io/${GITHUB_ACTOR}/(teamname)-django-server:latest
    image: ghcr.io/${GITHUB_ACTOR}/django-test-server:latest
    command: /app/wait-for-it.sh db:3306 -t 15 -- sh -c "python manage.py migrate && python manage.py runserver 0.0.0.0:8000"
    restart: always
    ports:
      - "8000:8000"
        #    volumes:
        #      - .:/app
    depends_on:
      - db
      - redis
    environment:
      - DJANGO_SETTINGS_MODULE=config.settings
      - CORS_ALLOWED_ORIGINS=${CORS_ALLOWED_ORIGINS}
      - CSRF_TRUSTED_ORIGINS=${CSRF_TRUSTED_ORIGINS}
      - DATABASE_HOST=${DATABASE_HOST}
      - DATABASE_PORT=3306
      - DATABASE_NAME=${DATABASE_NAME}
      - DATABASE_USER=${DATABASE_USER}
      - DATABASE_PASSWORD=${DATABASE_PASSWORD}
      - KAKAO_LOGIN_URL=${KAKAO_LOGIN_URL}
      - KAKAO_CLIENT_ID=${KAKAO_CLIENT_ID}
      - KAKAO_REDIRECT_URI=${KAKAO_REDIRECT_URI}
      - KAKAO_TOKEN_REQUEST_URI=${KAKAO_TOKEN_REQUEST_URI}
      - KAKAO_USERINFO_REQUEST_URI=${KAKAO_USERINFO_REQUEST_URI}
      - REDIS_HOST=redis
      - REDIS_PORT=6379
      - REDIS_PASSWORD=${REDIS_PASSWORD}
      - ALLOWED_HOSTS=${ALLOWED_HOSTS}
    networks:
      - app-network

  db:
    image: mysql:8.0
    container_name: db
    restart: always
    environment:
      MYSQL_ROOT_PASSWORD: ${DATABASE_PASSWORD}
      MYSQL_DATABASE: ${DATABASE_NAME}
      MYSQL_USER: ${DATABASE_USER}
      MYSQL_PASSWORD: ${DATABASE_PASSWORD}
    ports:
      - "3306:3306"
    volumes:
      - db_data:/var/lib/mysql
        #      - ./mysql/custom.cnf:/etc/mysql/conf.d/custom.cnf
        #      - ./mysql/logs:/var/log/mysql
      - ./init.sql:/docker-entrypoint-initdb.d/init.sql
    networks:
      - app-network

  redis:
    image: redis:latest
    container_name: redis-container
    restart: always
    ports:
      - "6379:6379"
    volumes:
      - redis_data:/data
    command: ["redis-server", "--requirepass", "${REDIS_PASSWORD}"]
    networks:
      - app-network

volumes:
  db_data:
  redis_data:
  app:

networks:
  app-network:
    driver: bridge
```  
  
2. ì´í›„ ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ì—¬ docker imageë¥¼ pull í•©ë‹ˆë‹¤.
  
```bash
echo "GHCR Token" | docker login ghcr.io -u (username) --password-stdin
```
  
3. ì´í›„ ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ì—¬ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì‘ë™ì‹œí‚µë‹ˆë‹¤.
  
```bash
docker-compose up -d
```
  
## FastAPI (AI Core Server)
### Build
í”„ë¡œì íŠ¸ ìµœìƒë‹¨ì— Dockerfileê³¼ docker-compose.yml íŒŒì¼ì„ êµ¬ì„±í•©ë‹ˆë‹¤.
![image](https://github.com/user-attachments/assets/558dd449-5a52-4b51-9d33-533a89bb34b6)

ì´í›„ GHCRì— docker loginì„ í•˜ì—¬ docker build êµ¬ì„±ì„ ì§„í–‰í•©ë‹ˆë‹¤.
```bash
export DOCKER_BUILDKIT=1
docker buildx create --use
docker buildx build --platform linux/arm64 --file ./Dockerfile --push -t ghcr.io/githubê³„ì •/tcp-fastapi-server:latest .
```
buildê°€ ì™„ë£Œë˜ì–´ ì•„ë˜ì™€ ê°™ì€ ê²°ê³¼ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
![image](https://github.com/user-attachments/assets/400b0701-5179-4627-becd-e95807ca1bdf)

![image](https://github.com/user-attachments/assets/673e79ee-ccc8-4b41-a64d-8d714fc605a2)

### êµ¬ë™
AWSì— ì ‘ì†í•´ì„œ ë§ˆì°¬ê°€ì§€ë¡œ docker-compose.yml íŒŒì¼ì„ êµ¬ì„±í•©ë‹ˆë‹¤.

![image](https://github.com/user-attachments/assets/649539a5-7d58-44e7-9a74-76b458d39a13)

<br>
ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±í•˜ê³  êµ¬ë™í•©ë‹ˆë‹¤.

```bash
docker-compose up
```

ì˜ êµ¬ë™ëœ ëª¨ìŠµì…ë‹ˆë‹¤.
![image](https://github.com/user-attachments/assets/7ab8fd20-fda1-498e-b28b-d8dc4ece6cb1)

ì™¸ë¶€ì—ì„œ API í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ì•„ë˜ì™€ ê°™ì´ ì¸ë°”ìš´ë“œ ê·œì¹™ì„ ì„¤ì •í•©ë‹ˆë‹¤.
![image](https://github.com/user-attachments/assets/0021b74a-e8d0-44c0-b8a3-146e9c7ca8b6)

ì•„ë˜ì™€ ê°™ì´ ìˆ˜ë™ë°°í¬ê°€ ì˜ ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
![image](https://github.com/user-attachments/assets/b3e2ffcd-6f5c-41f0-873b-9ae29c516d32)
<br><br><br>



# 9. Autonomous Deploy (ìë™ ë°°í¬ ì§„í–‰ ì ˆì°¨)

## Frontend (UI)
![image](https://github.com/user-attachments/assets/ca3d7962-bb4a-4668-9ce8-9976ef04b924)

### âœ… CI / CD ì „ì²´ íë¦„
1. ê°œë°œìë“¤ì´ ê° Domainì— ë§ì¶° Backlog ì‘ì—…ì„ ì§„í–‰í•©ë‹ˆë‹¤.

2. ì´ ë•Œ í…ŒìŠ¤íŠ¸ê°€ ë™ì‘í•˜ë©´ì„œ CI (Continuous Integration) ê´€ë ¨ ì‚¬í•­ì„ ì²´í¬í•©ë‹ˆë‹¤.

3. ë‹¹ì¥ í° ë¬¸ì œê°€ ì—†ë‹¤ë©´ PRì„ ìŠ¹ì¸í•©ë‹ˆë‹¤.

    (2, 3ë²ˆì€ ì •ì±…ì— ë”°ë¼ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤)


4. CIê°€ í†µê³¼ë˜ë©´ CDë¡œ ë„˜ì–´ê°€ì„œ ë°°í¬ê°€ ì§„í–‰ë©ë‹ˆë‹¤.

5. ì´ ë•Œ npm buildë¥¼ í†µí•´ í”„ë¡œì íŠ¸ê°€ ë¹Œë“œë©ë‹ˆë‹¤.

6. ë¹Œë“œ ì´í›„ ë¹Œë“œ ê²°ê³¼ë¡œ html, css, javascript, ë¦¬ì†ŒìŠ¤(ì´ë¯¸ì§€ ë“±ë“±)ì´ ë‚˜ì˜µë‹ˆë‹¤.

7. ì´ ì •ë³´ê°€ AWSì— scpë¥¼ í†µí•´ ì „ë‹¬ë©ë‹ˆë‹¤.

8. ì „ë‹¬í•œ ì •ë³´ë¥¼ ê°€ì§€ê³  nginxë¥¼ êµ¬ë™í•©ë‹ˆë‹¤.

9. nginxë¥¼ êµ¬ë™í•  ë•Œ docker-compose.yml ì„ ì°¸ì¡°í•©ë‹ˆë‹¤.

10. nginxëŠ” êµ¬ë™ ì‹œ ì–´ë–¤ javascript, html, cssë¥¼ ì°¸ì¡°í• ì§€ íŒì •í•©ë‹ˆë‹¤.

     ì´ ë‚´ìš©ë“¤ì€ docker-composeì— ëª…ì‹œë˜ì–´ ìˆìŠµë‹ˆë‹¤.

11. ì¶”ê°€ì ìœ¼ë¡œ nginxê°€ ì–´ë–¤ ìš”ì²­ì— ëŒ€í•´ ì–´ë–»ê²Œ ì²˜ë¦¬í• ì§€ configuration ì •ë³´ëŠ” conf í´ë” í•˜ìœ„ì— ë°°ì¹˜ë©ë‹ˆë‹¤.

12. ì¦‰ docker-compose up -d ëª…ë ¹ ì´í›„ nginxì— ì˜í•´ frontend ì½”ë“œê°€ ë™ì‘í•©ë‹ˆë‹¤.


### ğŸ“ CI êµ¬ì„±
 ### â¡ï¸ ci.yml
  Github Actions -> workflows ì—ì„œ íŒŒì¼ì„ ì‘ì„±í•©ë‹ˆë‹¤.

``` bash
name: CI (Continuous Integration)

on:
  push:
    branches: ["main"]

jobs:
  build:
    name: Frontend CI
    runs-on: ubuntu-latest
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3

    - name: Set up Node.js
      uses: actions/setup-node@v2
      with:
        node-version: '20'

    - name: Cache dependencies
      id: cache
      uses: actions/cache@v3
      with:
        path: '**/node_modules'
        key: ${{ runner.os }}-node-${{ hashFiles('**/package-lock.json') }}
        restore-keys: |
          ${{ runner.os }}-node-

    - name: Install Dependencies
      if: steps.cache.outputs.cache-hit != 'true'
      run: |
        npm ci --legacy-peer-deps

    - name: Create .env development for CI
      run: |
        pwd
        echo "${{ secrets.ENV_DEVELOPMENT }}" > .env.development
        cat .env.development

    - name: Real Test
      run: |
        npm run test:unit

    - name: send FRONTEND_TEST_FINISH_TRIGGER
      run: |
        curl -S -X POST https://api.github.com/repos/${{ github.repository }}/dispatches \
            -H 'Accept: application/vnd.github.v3+json' \
            -u ${{ secrets.GHCR_TOKEN }} \
            -d '{"event_type": "FRONTEND_TEST_FINISH_TRIGGER", "client_payload": { "repository": "'"$GITHUB_REPOSITORY"'" }}'

```
ì´í›„ Actionsë¥¼ ì‚´í´ë³´ë©´ CIê°€ ì§„í–‰ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

  ![image](https://github.com/user-attachments/assets/f5b8f8ee-edd2-4360-8484-cb87bb13cea7)


## ğŸ“CD êµ¬ì„±í•˜ê¸°
  ### â¡ï¸cd.yml
  CIì™€ ë§ˆì°¬ê°€ì§€ë¡œ ì¡°ì§ ì €ì¥ì†Œì—ì„œ Actionsë¥¼ ëˆŒëŸ¬ workflowsë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.
  ```bash
  name: CD (Continuous Deploy)

on:
  repository_dispatch:
    types: [FRONTEND_TEST_FINISH_TRIGGER]

jobs:
  build:
    name: build-app
    runs-on: ubuntu-latest
    steps:
    - name: Get Github Actions IP
      id: ip
      uses: haythem/public-ip@v1.2

    - name: Configure AWS IAM Credentials
      uses: aws-actions/configure-aws-credentials@v1
      with:
        aws-access-key-id: ${{ secrets.AWS_ACCESS_KEY_ID }}
        aws-secret-access-key: ${{ secrets.AWS_SECRET_ACCESS_KEY }}
        aws-region: ap-northeast-2

    - name: Checkout repository
      uses: actions/checkout@v3

    - name: Setup node.js
      uses: actions/setup-node@v2
      with:
        node-version: '20'

    - name: Cache dependencies
      id: cache
      uses: actions/cache@v3
      with:
        path: '**/node_modules'
        key: ${{ runner.os }}-node-${{ hashFiles('**/package-lock.json') }}
        restore-keys: |
          ${{ runner.os }}-node-

    - name: Install Dependencies
      if: steps.cache.outputs.cache-hit != 'true'
      run: |
        npm ci --legacy-peer-deps

    - name: Create .env.production for Continuous Deploy
      run: |
        echo "${{ secrets.ENV_PRODUCTION }}" > .env.production
        cat .env.production

    - name: Build
      run: |
        npm run build
        ls

    - name: Setup SSH
      uses: webfactory/ssh-agent@v0.5.0
      with:
        ssh-private-key: ${{ secrets.PRIVATE_KEY }}

    - name: Add Github Actions IP to Security Group
      run: |
        aws ec2 authorize-security-group-ingress --group-id ${{ secrets.AWS_SG_ID }} --protocol tcp --port 22 --cidr ${{ steps.ip.outputs.ipv4 }}/32

    - name: SCP Action
      uses: appleboy/scp-action@master
      with:
        host: ${{ secrets.HOST_IP }}
        username: ec2-user
        key: ${{ secrets.PRIVATE_KEY }}
        source: "./dist/**"
        target: "/home/ec2-user/tcp/actions-frontend"

    - name: Remove Github Actions IP From Security Group
      run: |
        aws ec2 revoke-security-group-ingress --group-id ${{ secrets.AWS_SG_ID }} --protocol tcp --port 22 --cidr ${{ steps.ip.outputs.ipv4 }}/32

    - name: SSH Agent Cleanup
      if: ${{ always() }}
      uses: webfactory/ssh-agent@v0.5.0
      with:
        ssh-private-key: ${{ secrets.PRIVATE_KEY }}

  deploy:
    name: Deploy to Production
    needs: build
    runs-on: [ self-hosted, deploy-tcp-frontend ]
    steps:
      - name: Get Github Actions IP
        id: ip
        uses: haythem/public-ip@v1.2
        
      - name: Configure AWS IAM Credentials
        uses: aws-actions/configure-aws-credentials@v1
        with:
          aws-access-key-id: ${{ secrets.AWS_ACCESS_KEY_ID }}
          aws-secret-access-key: ${{ secrets.AWS_SECRET_ACCESS_KEY }}
          aws-region: ap-northeast-2

      - name: Add Github Actions IP to Security Group
        run: |
          aws ec2 authorize-security-group-ingress --group-id ${{ secrets.AWS_SG_ID }} --protocol tcp --port 22 --cidr ${{ steps.ip.outputs.ipv4 }}/32
    
      - name: Deploy to Production
        uses: appleboy/ssh-action@v0.1.10
        with:
          host: ${{ secrets.HOST_IP }}
          username: ec2-user
          key: ${{ secrets.PRIVATE_KEY }}
          script_stop: true
          script: |
            pwd
            cd /home/ec2-user/tcp/vue-frontend
            cp -r /home/ec2-user/tcp/actions-frontend/dist/* ./html/

            docker image prune -f
            docker logout

            docker-compose up -d

      - name: Remove Github Actions IP From Security Group
        run: |
          aws ec2 revoke-security-group-ingress --group-id ${{ secrets.AWS_SG_ID }} --protocol tcp --port 22 --cidr ${{ steps.ip.outputs.ipv4 }}/32
  ```

### â¡ï¸ frontend ì—ì„œ í•„ìš”í•œ í™˜ê²½ë³€ìˆ˜
- Gitub Settings -> Secrets and variables -> Actions -> Repository secrets
![image](https://github.com/user-attachments/assets/9c558df6-84c6-42c5-87ad-b56fb67fbc31)

### â¡ï¸ Github Action Runner ì—°ê²°
Github Actions Runnerë¥¼ ì„¤ì •í•˜ê¸° ìœ„í•´ Settingsì—ì„œ Actions â†’ Runner â†’  New self-hosted runnerë¥¼ ëˆ„ë¦…ë‹ˆë‹¤. 
    
  êµ¬ë™ë˜ëŠ” ë²„ì „ì´ ARM64 Linuxì— í•´ë‹¹í•˜ë¯€ë¡œ ì•„ë˜ì™€ ê°™ì´ ì„¤ì •í•©ë‹ˆë‹¤.
    ![image](https://github.com/user-attachments/assets/b4222f15-aded-4fb6-9c42-8f79083c8a42)

AWSì— ì ‘ì†í•˜ë©´ CD ìŠ¤í¬ë¦½íŠ¸ê°€ ìƒì„±í•œ íŒ€ í”„ë¡œì íŠ¸ì˜ í´ë”ì— ì§„ì…í•˜ì—¬ runnerë“¤ì„ ëª¨ì•„ë†“ì„ runners ë””ë ‰í† ë¦¬ë¥¼ ìƒì„±í•˜ê³  frontend ìš© action runner ë””ë ‰í† ë¦¬ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.
```bash
mkdir frontend-action-runner
cd frontend-action-runner
```
ì´í›„ Github Actions Runner ì„¤ì •ì—ì„œ í•˜ë‹¨ì— ìˆì—ˆë˜ Download, Configureì— í•´ë‹¹í•˜ëŠ” ëª…ë ¹ì–´ë“¤ì„ ìˆœì„œëŒ€ë¡œ ë„£ì–´ì¤ë‹ˆë‹¤.
![image](https://github.com/user-attachments/assets/ce3e6e4f-0432-44a8-a589-8d57265e1797)
ì—¬ê¸°ì„œ ë ˆì´ë¸”ì„ ì„¤ì •í•  ë•Œ ì£¼ì˜í•  ì ì€ CD ìŠ¤í¬ë¦½íŠ¸ì˜ self-hostedì— ì‘ì„±í–ˆë˜ ë ˆì´ë¸”ì„ ë™ì¼í•˜ê²Œ ì…ë ¥í•´ì•¼ í•©ë‹ˆë‹¤. 

./run.sh ëª…ë ¹ì„ ì…ë ¥í•˜ë©´ ì•„ë˜ì™€ ê°™ì´ Listen ìƒíƒœê°€ ë˜ë©°,
CD ìŠ¤í¬ë¦½íŠ¸ì˜ deploy íŒŒíŠ¸ì™€ í†µì‹ í•˜ì—¬ ì‘ì—…ì´ ì§„í–‰ë©ë‹ˆë‹¤.

ë°±ê·¸ë¼ìš´ë“œ ì‹¤í–‰ì„ ìœ„í•´ ì•„ë˜ì™€ ê°™ì€ ëª…ë ¹ì–´ë¡œ êµ¬ë™í•©ë‹ˆë‹¤.
```bash
nohup ./run.sh > run.log 2>&1 &
```

### â¡ï¸ docker-compose.yml
íŒ€í”„ë¡œì íŠ¸ í•˜ìœ„ì— vue-frontend ë””ë ‰í† ë¦¬ì—ì„œ ì‘ì—…í•©ë‹ˆë‹¤.
```bash
version: "3.7"
services:
  nginx:
    image: "nginx:latest"
    container_name: frontend-deploy-nginx
    restart: unless-stopped
    volumes:
      - /home/ec2-user/att/vue-frontend/conf:/etc/nginx/conf.d
      - /home/ec2-user/att/vue-frontend/html:/usr/share/nginx/html
    ports:
      - "80:80"
    networks:
      - app

networks:
  app:
    driver: bridge
```
### â¡ï¸ nginx.conf
nginxë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ ëŠ”  

ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œë¥¼ ì‚¬ìš©í•˜ì—¬ ë³¸ë˜ ì„œë²„ì˜ IP ì£¼ì†Œë¥¼ ë…¸ì¶œì‹œí‚¤ì§€ ì•Šì•„ ì„œë²„ ë³´ì•ˆì— ìœ ìš©í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.


```bash
server {
        listen 80;
        location / {
                root /usr/share/nginx/html;
                index index.html index.htm;
                try_files $uri $uri/ /index.html;
        }
}
```


docker ì»¨í…Œì´ë„ˆë¥¼ êµ¬ë™í•©ë‹ˆë‹¤.
```bash
docker-compose up
```


## Backend (Server)
![image](https://github.com/user-attachments/assets/88077b76-db66-4169-b451-0d0cf849a637)

### Django CI
#### Basic Settings
GitHub Actionsë¥¼ í™œìš©í•´ì„œ CIë¥¼ êµ¬ì„±í•©ë‹ˆë‹¤. ë¸Œëœì¹˜ì˜ ê²½ìš°, develop ë¸Œëœì¹˜ê°€ ì•„ë‹Œ, main ë¸Œëœì¹˜ì—ì„œ ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.  
  
![image](https://github.com/user-attachments/assets/a537bdde-8ec9-46d7-b37b-7c881087349d)  
íŒŒì¼ ì´ë¦„ì˜ ê²½ìš° ci ë¡œ ì„¤ì •í•˜ê³ , íŒŒì¼ì˜ ê²½ìš° yaml í˜•ì‹ìœ¼ë¡œ êµ¬ì„±í•©ë‹ˆë‹¤. XML, JSON ë“±ì˜ í˜•ì‹ìœ¼ë¡œ êµ¬ì„±í•´ë„ ë¬´ë°©í•˜ë‚˜, ìœ ì§€ ë³´ìˆ˜ì˜ ìœ ì—°ì„±ê³¼ ê°œë°œ í¸ì˜ì„±ìœ¼ë¡œ ìœ„í•´ yamlì„ ì„ íƒí•˜ì˜€ìŠµë‹ˆë‹¤. ì €í¬ í”„ë¡œì íŠ¸ì—ì„œ Backendì˜ ê²½ìš°, Djangoë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ì—¬ MySQLê³¼ Redisë¥¼ í™œìš©í•©ë‹ˆë‹¤. ì´ì— ë§ê²Œ yaml íŒŒì¼ì„ êµ¬ì„±í•©ë‹ˆë‹¤.  

#### Django ì¼ê´„ í…ŒìŠ¤íŠ¸ ì§„í–‰
ë˜í•œ, ë§¤ë²ˆ integration ì´ì „ì— í…ŒìŠ¤íŠ¸ë¥¼ í•˜ëŠ” ê³¼ì •ì—ì„œ ëª¨ë“  í…ŒìŠ¤íŠ¸ íŒŒì¼ì„ ìˆ˜ë™ìœ¼ë¡œ ëŒë¦¬ëŠ” ë²ˆê±°ë¡œì›€ì„ ì¤„ì´ê¸° ìœ„í•´ì„œ Django í…ŒìŠ¤íŠ¸ íŒ¨í‚¤ì§€ë¥¼ ì°¾ì•„ì„œ CIì— ì „ë‹¬í•˜ê²Œë” êµ¬ì„±í•˜ì˜€ìŠµë‹ˆë‹¤.  

![image](https://github.com/user-attachments/assets/9afb8a59-eaf9-47dc-ba52-de95da84b681)
  
í•´ë‹¹ ìœ„ì¹˜ì— find_test.sh ë¥¼ ìƒì„±í•˜ê³  ë‹¤ìŒì˜ ì½”ë“œë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.  
```bash
#!/usr/bin/env bash

TEST_DIRS=$(find . -path ./.venv -prune -o -type d -name 'tests' -print)

APP_TESTS=()

for TEST_DIR in $TEST_DIRS; do
  APP_NAME=$(basename $(dirname $TEST_DIR))
  TEST_FILES=$(find $TEST_DIR -type f -name 'test*.py')

  if [ -z "$TEST_FILES" ]; then
    continue
  fi

  APP_TESTS+=("${APP_NAME}.tests")
done

echo "${APP_TESTS[@]}"
```
ë‹¤ìŒìœ¼ë¡œ ì‹¤í–‰ ê¶Œí•œì„ ë¶€ì—¬í•©ë‹ˆë‹¤. ëª¨ë“  ëª…ë ¹ì–´ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ Git Bashì—ì„œ ì‹¤í–‰í•˜ê¸° ë•Œë¬¸ì— Linux ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ì´í›„, íŒŒì¼ì„ ì‹¤í–‰ì‹œì¼œ ë£¨íŠ¸ ìœ„ì¹˜ ë‚´ì˜ ëª¨ë“  tests íŒŒì¼ë“¤ì„ ì˜ ê°€ì ¸ì˜¤ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.
```bash
chmod +x find_test.sh
./find_test.sh
```
### Django CD
#### Basic Settings
CI êµ¬ì„±ë•Œì™€ ë§ˆì°¬ê°€ì§€ë¡œ GitHub Actionsë¥¼ ì´ìš©í•˜ì—¬ CDë¥¼ êµ¬ì„±í•©ë‹ˆë‹¤. 
![image](https://github.com/user-attachments/assets/89bdb835-5276-419b-b902-ccf3c6023449)

Django í™˜ê²½ì„ ì—¬ëŸ¬ ê°œ êµ¬ì„±í•´ì•¼ í•  ê²½ìš°, build ì‹œì— ì„œë¡œ êµ¬ë¶„ì´ ë¼ì•¼í•©ë‹ˆë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì—, jobs: build: steps: `Build and push Docker image` ìª½ì„ ë‹¤ìŒê³¼ ê°™ì´ êµ¬ì„±í•©ë‹ˆë‹¤.  
```bash
- name: Build and push Docker image
  run: |
    cd <í”„ë¡œì íŠ¸ ì´ë¦„>
    docker buildx build --platform linux/arm64 -f Dockerfile -t ghcr.io/${{ github.actor }}/<ë¹Œë“œí•˜ê³ ì í•˜ëŠ” í™˜ê²½ ì´ë¦„>:latest --push .
```
#### Github Actions Runner êµ¬ì„±
GitHub Actions Runner ì„¤ì •ì„ ìœ„í•´ Settingsë¡œ ì´ë™í•©ë‹ˆë‹¤. Settings -> Code and automation -> Actions -> Runners ì´ë™ í›„ ìš°ì¸¡ ìƒë‹¨ì— `New self-hosted runner` ë²„íŠ¼ì„ í´ë¦­í•©ë‹ˆë‹¤.

![image](https://github.com/user-attachments/assets/2bc9e67a-32c8-4985-9006-cfd4ee157bbd)
ìš°ë¦¬ëŠ” AWSì—ì„œ `Linux`ë¥¼ ì„ íƒí–ˆê¸° ë•Œë¬¸ì— `Runner image`ë¥¼ `Linux`ë¡œ ì„ íƒí•©ë‹ˆë‹¤. ì „ì²´ì ì¸ ì„¸íŒ…ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.  
- Runner Image: `Linux`
- Architecturre: `ARM64`  
  
ì´í›„ `Git Bash`ë¥¼ í†µí•´ AWSì— ì ‘ì†í•©ë‹ˆë‹¤.
  
![image](https://github.com/user-attachments/assets/fec99c35-004b-4d83-8d27-f9d8e0f49630)
  
ì´í›„ `Django` í”„ë¡œì íŠ¸ í´ë”ë¡œ ì´ë™í•œ ë‹¤ìŒ, ìƒì„±ëœ `runners` í´ë”ë¡œ ë“¤ì–´ê°‘ë‹ˆë‹¤. ë‹¤ìŒì˜ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì—¬ `backend-action-runner` í´ë”ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
```bash
mkdir backend-action-runner
cd backend-action-runner
```
ì´í›„ ì•„ë˜ìª½ì— ìˆëŠ” ëª…ë ¹ì–´ë“¤ì„ ì…ë ¥í•©ë‹ˆë‹¤. ì…ë ¥ ì‹œ CD ìŠ¤í¬ë¦½íŠ¸ì˜ `deploy` ë¶€ë¶„ì˜ êµ¬ì„±ì„ í† ëŒ€ë¡œ ìˆ˜ì •í•©ë‹ˆë‹¤.
```bash
deploy:
  needs: build
  name: Deploy
  runs-on: [ self-hosted, <runners ì‹¤í–‰í•  ì´ë¦„ > ]
  steps:
  - name: Login to GHCR
  ...
```
`config` ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì•„ë˜ì™€ ê°™ì€ í™”ë©´ì´ ë‚˜ì˜µë‹ˆë‹¤.

![image](https://github.com/user-attachments/assets/13393ca6-4878-451f-afbd-5d3278ae2d5f)

ì •ìƒì ìœ¼ë¡œ êµ¬ë™ëœë‹¤ë©´ ì‰˜ ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì„ ì‹¤í–‰í•©ì‹œë‹¤.
```bash
./run.sh
```
ì´í›„ background ì—ì„œë„ ì‹¤í–‰ë˜ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤.
```bash
nohup ./run.sh > run.log 2>&1 &
```
ì¶”ê°€ì ìœ¼ë¡œ backgroundì—ì„œ ì˜ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸í•˜ë ¤ë©´ ë‹¤ìŒì˜ ëª…ë ¹ì„ ì…ë ¥í•©ë‹ˆë‹¤.
```bash
ps -ef | grep run.sh
```
ì˜ ì‘ë™í•œë‹¤ë©´, ë‹¤ìŒê³¼ ê°™ì´ í‘œì‹œë©ë‹ˆë‹¤.
  
![image](https://github.com/user-attachments/assets/dcb9f5f7-6ea0-4d37-b0c5-a35abccccc1b)

### docker-compose êµ¬ì„±
`Git Bash`ë¥¼ í†µí•´ AWSì— ì ‘ì†í•©ë‹ˆë‹¤. ì´í›„ ì•„ë˜ì™€ ê°™ì´ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.
```bash
cd <í”„ë¡œì íŠ¸ëª…>
mkdir django-backend
cd django-backend
```
Django í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ í•˜ìœ„ì— .env íŒŒì¼ê³¼ í•¨ê»˜ docker-compose.yml íŒŒì¼ì„ ìƒì„±í•˜ê³  ë‹¤ìŒì˜ ë‚´ìš©ì„ ê¸°ì…í•©ë‹ˆë‹¤.
```bash
version: '3'
services:
  django:
    container_name: django
    image: ghcr.io/${GITHUB_ACTOR}/tf-django-server:latest
    command: /app/wait-for-it.sh db:3306 -t 15 -- sh -c "python manage.py migrate && python manage.py runserver 0.0.0.0:8000"
    restart: always
    ports:
      - "8000:8000"
    depends_on:
      - db
      - redis
    environment:
      - DJANGO_SETTINGS_MODULE=config.settings
      - CORS_ALLOWED_ORIGINS=${CORS_ALLOWED_ORIGINS}
      - CSRF_TRUSTED_ORIGINS=${CSRF_TRUSTED_ORIGINS}
      - DATABASE_HOST=${DATABASE_HOST}
      - DATABASE_PORT=3306
      - DATABASE_NAME=${DATABASE_NAME}
      - DATABASE_USER=${DATABASE_USER}
      - DATABASE_PASSWORD=${DATABASE_PASSWORD}
      - KAKAO_LOGIN_URL=${KAKAO_LOGIN_URL}
      - KAKAO_CLIENT_ID=${KAKAO_CLIENT_ID}
      - KAKAO_REDIRECT_URI=${KAKAO_REDIRECT_URI}
      - KAKAO_TOKEN_REQUEST_URI=${KAKAO_TOKEN_REQUEST_URI}
      - KAKAO_USERINFO_REQUEST_URI=${KAKAO_USERINFO_REQUEST_URI}
      - REDIS_HOST=redis
      - REDIS_PORT=6379
      - REDIS_PASSWORD=${REDIS_PASSWORD}
      - ALLOWED_HOSTS=${ALLOWED_HOSTS}
    networks:
      - app-network

  db:
    image: mysql:8.0
    container_name: db
    restart: always
    environment:
      MYSQL_ROOT_PASSWORD: ${DATABASE_PASSWORD}
      MYSQL_DATABASE: ${DATABASE_NAME}
      MYSQL_USER: ${DATABASE_USER}
      MYSQL_PASSWORD: ${DATABASE_PASSWORD}
    ports:
      - "3306:3306"
    volumes:
      - db_data:/var/lib/mysql
      - ./mysql/custom.cnf:/etc/mysql/conf.d/custom.cnf
      - ./mysql/logs:/var/log/mysql
      - ./init.sql:/docker-entrypoint-initdb.d/init.sql
    networks:
      - app-network

  redis:
    image: redis:latest
    container_name: redis-container
    restart: always
    ports:
      - "6379:6379"
    volumes:
      - redis_data:/data
    command: ["redis-server", "--requirepass", "${REDIS_PASSWORD}"]
    networks:
      - app-network

volumes:
  db_data:
  redis_data:
  app:

networks:
  app-network:
    driver: bridge
```
ì´í›„ django-backend í•˜ìœ„ì— `mysql`ë””ë ‰í† ë¦¬ë¥¼ ë§Œë“¤ê³  `custom.cnf` íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤.
```bash
mkdir mysql
cd mysql
vi custom.cnf
```
```bash
[mysqld]
character-set-server = utf8mb4
collation-server = utf8mb4_general_ci
skip-character-set-client-handshake
innodb_buffer_pool_size = 16M
```
ì´í›„ `mysql` ë””ë ‰í† ë¦¬ í•˜ìœ„ì— `logs` ë””ë ‰í† ë¦¬ë¥¼ ë°°ì¹˜í•©ë‹ˆë‹¤.
```bash
mkdir logs
cd logs
touch README.md
```
ê·¸ë¦¬ê³  django-backend ë””ë ‰í† ë¦¬ í•˜ìœ„ì— init.sql íŒŒì¼ì„ ì•„ë˜ì™€ ê°™ì´ ì‘ì„±í•©ë‹ˆë‹¤.
```bash
CREATE DATABASE IF NOT EXISTS <db ì´ë¦„>;
GRANT ALL PRIVILEGES ON <db ì´ë¦„>.* TO 'eddi'@'%';
FLUSH PRIVILEGES;
```
`Git Bash`ì—ì„œ `docker-compose up`ëª…ë ¹ì–´ë¥¼ í†µí•´ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤. ì˜ ë™ì‘í•œë‹¤ë©´, docker-compose êµ¬ì„±ì´ ì˜ ë§ˆë¬´ë¦¬ ë˜ì—ˆìŠµë‹ˆë‹¤.
<br>  

# 10. Deep Learning Local Server êµ¬ì„±
## 10-1 Socket Server (FastAPI) êµ¬ì„± ë° êµ¬ë™ ë°©ë²•
1. FastAPI í”„ë¡œì íŠ¸ í´ë” ë‚´ì—ì„œ ë¯¸ë¦¬ êµ¬ì„±í•´ ë†“ì€ ì†Œì¼“ í†µì‹  ê´€ë ¨ submoduleì„ ë‹¤ìŒì˜ ëª…ë ¹ì–´ë¥¼ í†µí•´ ì—°ê²°í•©ë‹ˆë‹¤.
```bash
git submodule add "socket server submodule Github ì£¼ì†Œ" template
```

2. ë‹¤ìŒê³¼ ê°™ì´ `template` ë¼ëŠ” submoduleì´ í”„ë¡œì íŠ¸ ë‚´ë¶€ì— ë¶™ì€ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
![image](https://github.com/user-attachments/assets/fc83fd3b-3cf0-4852-a6e1-c143afb3eed3)
3. ì´í›„ì— `cd include/socket_server/`ì— ì†Œì¼“ ì„œë²„ì˜ ì—­í• ì„ í•˜ë„ë¡ í•´ë†“ì€ ëª¨ë“ˆì— ëŒ€í•œ ë‚´ìš©ë“¤ì„ ë‹¤ìŒì˜ ëª…ë ¹ì–´ë¡œ ê°±ì‹ ì‹œí‚µë‹ˆë‹¤.
![image](https://github.com/user-attachments/assets/1bf1190e-1aad-45d9-ad6b-d44090f88c0f)
```bash
cd ../..
git submodule update --init --recursive
```
4. ê·¸ëŸ¬ë©´ ì•„ë˜ì²˜ëŸ¼ ë‚´ìš©ë“¤ì´ ì¶”ê°€ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
![image](https://github.com/user-attachments/assets/bb624477-e11a-461c-a532-63389108c566)

5. ì´í›„ ë¯¸ë¦¬ ì¤€ë¹„í•´ë†“ì€ ë³´ì•ˆ ê´€ë ¨ íŒŒì¼ë“¤ì„ í”„ë¡œì íŠ¸ í´ë”ì— ë°°ì¹˜ì‹œí‚µë‹ˆë‹¤.
```bash
CA.pem
svr.key
svr.crt
```

6. ì„œë²„ë¥¼ êµ¬ë™ì‹œí‚¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ ai-clientì˜ ì ‘ì†ì„ ëŒ€ê¸°í•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
![image](https://github.com/user-attachments/assets/dbdf40fe-1fc0-4e15-9c05-73618d202e63)

## 10-2 Socket Client (ai-client) êµ¬ì„± ë° êµ¬ë™ ë°©ë²•
1. ai-client í”„ë¡œì íŠ¸ í´ë” ë‚´ì—ì„œ ì†Œì¼“ ì„œë²„ì™€ ë§ˆì°¬ê°€ì§€ë¡œ ë¯¸ë¦¬ êµ¬ì„±í•´ ë†“ì€ ì†Œì¼“ í†µì‹  ê´€ë ¨ submoduleì„ ë‹¤ìŒì˜ ëª…ë ¹ì–´ë¥¼ í†µí•´ ì—°ê²°í•©ë‹ˆë‹¤.
```bash
git submodule add "socket client submodule Github ì£¼ì†Œ" template
```

2. ë‹¤ìŒê³¼ ê°™ì´ `template` ë¼ëŠ” submoduleì´ í”„ë¡œì íŠ¸ ë‚´ë¶€ì— ë¶™ì€ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
![image](https://github.com/user-attachments/assets/7340470c-97c3-4ee4-ab18-d52bbc6a8c83)

3. ì´í›„ ë¯¸ë¦¬ ì¤€ë¹„í•´ë†“ì€ ë³´ì•ˆ ê´€ë ¨ íŒŒì¼ë“¤ì„ í”„ë¡œì íŠ¸ í´ë”ì— ë°°ì¹˜ì‹œí‚µë‹ˆë‹¤.
```bash
CA.pem
client.key
client.crt
```

4. ì„œë²„ë¥¼ êµ¬ë™ì‹œí‚¨ ìƒíƒœì—ì„œ ai-clientë¥¼ êµ¬ë™í•˜ì—¬ socket serverë¡œ ì ‘ì†ì„ ì‹œë„í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì˜ ì ‘ì†ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ, ë¯¸ë¦¬ êµ¬ì„±í•œ ë³´ì•ˆ ì ‘ì†ë„ ì˜ ì‘ë™í•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
![image](https://github.com/user-attachments/assets/98fdf151-ee23-41ba-a09d-fc1ac6ffd2d0)



# 11. Result (ìˆ˜í–‰ ê²°ê³¼)


# 11. Tech Stack (ê¸°ìˆ  ìŠ¤íƒ)

### Co-Work(Communication)
![Github](https://img.shields.io/badge/GitHub-181717?style=for-the-badge&logo=GitHub&logoColor=white)
<img src="https://img.shields.io/badge/gitkraken-179287?style=for-the-badge&logo=gitkraken&logoColor=white"/>
<img src="https://img.shields.io/badge/notion-%23000000?style=for-the-badge&logo=notion&logoColor=white"/> 
<img src="https://img.shields.io/badge/slack-%234A154B?style=for-the-badge&logo=slack&logoColor=white"/>
<img src="https://img.shields.io/badge/discord-5865F2?style=for-the-badge&logo=discord&logoColor=white"/>

### IDE
![PyCharm](https://img.shields.io/badge/pycharm-%23000000?style=for-the-badge&logo=pycharm&logoColor=white")
<img src="https://img.shields.io/badge/Jupyter_Notebook-F37626?style=for-the-badge&logo=jupyter&logoColor=white"/>
<img src="https://img.shields.io/badge/VS%20Code-007ACC?style=for-the-badge&logo=visual-studio-code&logoColor=white"/> 


### Frontend
![HTML](https://img.shields.io/badge/HTML-E34F26?style=for-the-badge&logo=html5&logoColor=white)
<img src="https://img.shields.io/badge/css-1572B6?style=for-the-badge&logo=css3&logoColor=white"/>
<img src="https://img.shields.io/badge/Javascript-ffb13b?style=for-the-badge&logo=javascript&logoColor=white"/>
<img src="https://img.shields.io/badge/vue.js-4FC08D?style=for-the-badge&logo=vue.js&logoColor=white"/> 
<img src="https://img.shields.io/badge/vuetify-%231867C0?style=for-the-badge&logo=vuetify&logoColor=white"/>
<img src="https://img.shields.io/badge/typescript-3178C6?style=for-the-badge&logo=typescript&logoColor=black"/>
<img src="https://img.shields.io/badge/axios-%235A29E4?style=for-the-badge&logo=axios&logoColor=white"/>

### Backend
![Python](https://img.shields.io/badge/python-3776AB?style=for-the-badge&logo=python&logoColor=white)
<img src="https://img.shields.io/badge/pandas-%23150458?style=for-the-badge&logo=pandas&logoColor=white"/> 
<img src="https://img.shields.io/badge/numpy-%23013243?style=for-the-badge&logo=numpy&logoColor=white"/>
<img src="https://img.shields.io/badge/Openpyxl-217346?style=for-the-badge&logo=microsoft-excel&logoColor=white"/>
<img src="https://img.shields.io/badge/SQLAlchemy-666699?style=for-the-badge&logo=sqlalchemy&logoColor=white"/>

### Fast API (AI Core)
![FastAPI](https://img.shields.io/badge/fastapi-%23009688?style=for-the-badge&logo=fastapi&logoColor=white)
<img src="https://img.shields.io/badge/Machine_Learning-FF6F00?style=for-the-badge&logo=machine-learning&logoColor=white"/>
<img src="https://img.shields.io/badge/scikitlearn-%23F7931E?style=for-the-badge&logo=scikitlearn&logoColor=white"/>
<img src="https://img.shields.io/badge/Deep_Learning-00599C?style=for-the-badge&logo=deep-learning&logoColor=white"/>
<img src="https://img.shields.io/badge/TensorFlow-FF6F00?style=for-the-badge&logo=tensorflow&logoColor=white"/>
<img src="https://img.shields.io/badge/Keras-D00000?style=for-the-badge&logo=keras&logoColor=white"/>

### CI-CD Infrastructure
![AWS](https://img.shields.io/badge/AWS-232F3E?style=for-the-badge&logo=amazonwebservices&logoColor=white)
<img src="https://img.shields.io/badge/AWS_EC2-FF9900?style=for-the-badge&logo=amazon-ec2&logoColor=white"/>
<img src="https://img.shields.io/badge/AWS_S3-569A31?style=for-the-badge&logo=amazon-s3&logoColor=white"/>
<img src="https://img.shields.io/badge/GitHub-181717?style=for-the-badge&logo=GitHub&logoColor=white"/>
<img src="https://img.shields.io/badge/github%20actions-2088FF?style=for-the-badge&logo=github-actions&logoColor=white"/>
<img src="https://img.shields.io/badge/docker-%232496ED?style=for-the-badge&logo=docker&logoColor=white"/> 
<img src="https://img.shields.io/badge/mysql-4479A1?style=for-the-badge&logo=mysql&logoColor=white"/>
<img src="https://img.shields.io/badge/redis-%23FF4438?style=for-the-badge&logo=redis&logoColor=white"/>
<br><br><br>

# 12. í…ŒìŠ¤íŠ¸ ë³´ê³ ì„œ (CI í…ŒìŠ¤íŠ¸ ê²°ê³¼)
1. **í…ŒìŠ¤íŠ¸ í™˜ê²½**  
  * Jest

2. **ìœ ë‹› í…ŒìŠ¤íŠ¸**  
  * Mocking test
  * ê²Œì‹œíŒì— ê²Œì‹œê¸€ì´ ì˜ˆìƒëŒ€ë¡œ ë“±ë¡ë˜ëŠ”ì§€ í™•ì¸

3. **ì»¤ë²„ë¦¬ì§€ í…ŒìŠ¤íŠ¸**  
   * ì»¤ë²„ë¦¬ì§€ í…ŒìŠ¤íŠ¸ë¥¼ í†µí•˜ì—¬ ì½”ë“œ í’ˆì§ˆì„ ëª¨ë‹ˆí„°ë§í•˜ê³  ê°œì„ í•  ìˆ˜ ìˆìŒ  
   * í…ŒìŠ¤íŠ¸ ê²°ê³¼, ì½”ë“œë² ì´ìŠ¤ì—ì„œ ì•½ 87í¼ì„¼íŠ¸ ì‹¤í–‰ë¨ì„ ì•Œ ìˆ˜ ìˆìŒ  
  ![Coverage1](https://github.com/user-attachments/assets/e3d13016-8efc-4681-8264-f4cc047f0c3a)  
4. **í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦°ìƒ·**  
  * ğŸ§ª **Backend Build Test**  
    <img width="976" alt="Backend-Build-Test" src="https://github.com/user-attachments/assets/b7ad4ba0-f070-477a-b1f6-39460f94837c">  
  * ğŸ§ª **Frontend Build Test**  
    <img width="993" alt="Frontend-Build-Test" src="https://github.com/user-attachments/assets/449cff0e-1953-4a93-aa0f-3ea8e07291d9">   
  
5. **ê²° ë¡ **
  * ğŸ†— _Backend_ ì™€ _Frontend_ ëª¨ë‘ ì„±ê³µì ìœ¼ë¡œ **Build** ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

# 13. Deploy Issue (ë°°í¬ ì´ìŠˆ)
1. **Error: repository name must be lowercase**
![Issue1](https://github.com/user-attachments/assets/0eaa074a-c88e-469b-8ab2-e90919ad1c88)  
<br>

### _Solution_   
ë§Œì•½ actorê°€ Uppercaseë¼ë©´, ì•„ë˜ì™€ ê°™ì´ ì§ì ‘ Lowercaseë¥¼ ëª…ì‹œí•˜ì—¬ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```yaml
name: Django CD (Continuous Deploy)

on:
  repository_dispatch:
    types: [BACKEND_TEST_FINISH_TRIGGER]

jobs:
  build:
    name: build-app
    runs-on: ubuntu-latest
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
```
  
ìœ„ì˜ ë‚´ìš©ì„ ì•„ë˜ì™€ ê°™ì´ ìˆ˜ì •í•©ë‹ˆë‹¤.  
```yaml
name: Django CD (Continuous Deploy)

on:
  repository_dispatch:
    types: [BACKEND_TEST_FINISH_TRIGGER]
    
env:
  DOCKER_IMAGE: ghcr.io/${{ secrets.REAL_ACTOR }}/tcp-backend

jobs:
  build:
    name: build-app
    runs-on: ubuntu-latest
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
```

ê·¸ë¦¬ê³  ì•„ë˜ ë‚´ìš©ì„ ìˆ˜ì •í•©ë‹ˆë‹¤.  
```yaml
- name: Build and Push Docker Image
  run: |
    cd tcp_backend/tcp_django
    docker buildx build --platform linux/arm64 -f Dockerfile -t ghcr.io/${{ github.actor }}/tcp-django-backend-server:latest --push .
```
  
ìœ„ì˜ ë‚´ìš©ì„ ì•„ë˜ì™€ ê°™ì´ ìˆ˜ì •í•©ë‹ˆë‹¤.
```yaml
- name: Build and Push Docker Image
  run: |
    cd tcp_backend/tcp_django
    docker buildx build --platform linux/arm64 -f Dockerfile -t ${{ env.DOCKER_IMAGE }}:latest --push .
```

**secrets**ì— _REAL_ACTOR_ ë¥¼ ì„¤ì •í•˜ê³  _REAL_ACTOR_ ë¥¼ **ì†Œë¬¸ì ë³¸ì¸ ê³„ì •**ìœ¼ë¡œ ì‘ì„±í•˜ë©´ ë©ë‹ˆë‹¤.  
ex) Ah-ram >> ah-ram  

ë§ˆì§€ë§‰ìœ¼ë¡œ ì•„ë˜ ë‚´ìš©ì„ ìˆ˜ì •í•©ë‹ˆë‹¤.  
```yaml
deploy:
  needs: build
  name: Deploy
  runs-on: [ self-hosted, deploy-tcp-backend ]
  steps:
  - name: Login to GHCR
    uses: docker/login-action@v1
    with:
      registry: ghcr.io
      username: ${{ github.actor }}
      password: ${{ secrets.GHCR_TOKEN }}
```

ìœ„ì˜ ë‚´ìš©ì„ ì•„ë˜ì™€ ê°™ì´ ìˆ˜ì •í•©ë‹ˆë‹¤.  
```yaml
deploy:
  needs: build
  name: Deploy
  runs-on: [ self-hosted, deploy-lms-backend ]
  steps:
  - name: Login to GHCR
    uses: docker/login-action@v1
    with:
      registry: ghcr.io
      username: ${{ secrets.REAL_ACTOR }}
      password: ${{ secrets.GHCR_TOKEN }}
```

2. **Cannot connect to the Docker daemon at <workdir>**
![Issue2](https://github.com/user-attachments/assets/775cadb2-3228-425a-bf98-9ebf4aed8d43)  
<br>

### _Solution_  
localì— **docker desktopì´ ì¼œì ¸ìˆëŠ”ì§€ í™•ì¸**í•´ë³´ì•„ì•¼ í•©ë‹ˆë‹¤.  
Docker desktopì„ ì‹¤í–‰í•˜ê³  ë‹¤ì‹œ ì‹œë„í•˜ë‹ˆ í•´ê²°ë˜ì—ˆìŠµë‹ˆë‹¤.  

3. **FastAPI ë°°í¬ ì´í›„, ì›¹ì— ì ‘ì†ì´ ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.**
<img width="722" alt="Issue3" src="https://github.com/user-attachments/assets/89331de6-8e8b-42d8-bf7b-e15364e2260d">
<br>

### _Solution_  
FastAPI ë°°í¬ í›„, **ì¸ìŠ¤í„´ìŠ¤ ë³´ì•ˆ ê·¸ë£¹ì—ì„œ 33333 portì— ëŒ€í•˜ì—¬ ì¸ë°”ìš´ë“œ ì„¤ì •**ì„ í•´ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.  
ì„¤ì •í•˜ê³  ë‹¤ì‹œ ì ‘ì†í•˜ë©´ ì •ìƒì ìœ¼ë¡œ ì²˜ë¦¬ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
![Issue3-1](https://github.com/user-attachments/assets/0a4d7844-692f-43e2-98fb-76680f98e5a1)  
  
# 14. í•œ ì¤„ íšŒê³ 
ğŸ¤“<b>í•œì¬í˜</b>  
_AWSì™€ Dockerì— ëŒ€í•´ì„œ ë°°ìš°ê³  ì‹¶ì—ˆëŠ”ë°, ë‹¨ìˆœíˆ ë°°ìš°ëŠ” ê²ƒì—ì„œ ê·¸ì¹˜ì§€ ì•Šê³  ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‘ì„±ë¶€í„° ë°°í¬ê¹Œì§€ ê²½í—˜í•  ìˆ˜ ìˆì–´ì„œ ì •ë§ ì¢‹ì€ ê²½í—˜ì´ì—ˆìŠµë‹ˆë‹¤! íŒ€ì›ë¶„ë“¤ë„ ê°™ì´ ì—´ì‹¬íˆ í•´ì£¼ì…”ì„œ ì–´ë µì§€ ì•Šê²Œ ë§ˆë¬´ë¦¬ í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. ë‹¤ë“¤ ê³ ìƒí•˜ì…¨ìŠµë‹ˆë‹¤!!ğŸ‘_  

ğŸ‘¨â€ğŸ’»<b>ë¯¼ê²½ì›</b>  
_AWS -GitHub Actions-Dockerë“±ì„ ì´ìš©í•œ CI-CD êµ¬ì¶•ì„ ì§ì ‘ ê²½í—˜í•´ë³¼ ìˆ˜ ìˆì–´ì„œ ì¢‹ì•˜ìŠµë‹ˆë‹¤._  

ğŸ˜º<b>ì •ì•„ëŒ</b>  
_CI/CD í™˜ê²½ êµ¬ì„±ìœ¼ë¡œ í”„ë¡œì íŠ¸ ë°°í¬ë¥¼ ìë™í™”í•˜ê³  AWSì™€ ê²°í•©í•´ ì„œë¹„ìŠ¤ë¥¼ í•  ìˆ˜ ìˆëŠ” ì¢‹ì€ ê²½í—˜ì´ì—ˆìŠµë‹ˆë‹¤._  

ğŸª<b>ìµœì¸í—Œ</b>  
_Django, MySQLê³¼ Vueë¥¼ í™œìš©í•˜ì—¬ ì›¹ ê¸°ë°˜ ì„œë¹„ìŠ¤ë“¤ì˜ ì‘ë™ ë°©ì‹ì„ ì´í•´í•˜ëŠ” ê¸°íšŒê°€ ë˜ì—ˆê³ , AWSì™€ GitHub Actionsë¥¼ í™œìš©í•˜ì—¬ ë°°í¬ê¹Œì§€ í•´ë´„ìœ¼ë¡œì„œ CI/CDê°€ ì–´ë–»ê²Œ ì´ë£¨ì–´ì§€ëŠ”ì§€ ì•Œ ìˆ˜ ìˆì—ˆë˜ ê³„ê¸°ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤. ëª¨ë‘ ê³ ìƒ ë§ìœ¼ì…¨ìŠµë‹ˆë‹¤!_  

ğŸ˜<b>ì´ìš©íœ˜</b>  
_AWSì™€ Dockerë¥¼ ì œëŒ€ë¡œ ë‹¤ë£¨ì–´ ë³¸ ê²ƒì€ ì²˜ìŒì¸ë°, ë‹¤ì–‘í•œ issueë“¤ì„ ê²ªì–´ì„œ í˜ë“¤ì—ˆì§€ë§Œ ê·¸ë§Œí¼ ë§ì´ ë°°ìš´ ê²ƒ ê°™ìŠµë‹ˆë‹¤._  
